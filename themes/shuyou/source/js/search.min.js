var searchFunc=function(v,w,x){$.ajax({url:v,dataType:"json",success:function(s){var t=document.getElementById(w);var u=document.getElementById(x);t.addEventListener('input',function(){var q=this.value.trim().toLowerCase().split(/[\s\-]+/);var r="";u.innerHTML="";if(this.value.trim().length<=0){return}s.forEach(function(c){var d=true;var e=[];var f=c.title.trim().toLowerCase();var g=c.content.trim().replace(/<[^>]+>/g,"").toLowerCase();var h=c.url;var j=-1;var k=-1;var l=-1;if(f!=''&&g!=''){q.forEach(function(a,i){j=f.indexOf(a);k=g.indexOf(a);if(j<0&&k<0){d=false}else{if(k<0){k=0}if(i==0){l=k}}})}if(d){r+="<div class='post-preview item'><a href='"+h+"'>"+"<h2 class='post-title'>"+f+"</h2>"+"</a>";var m=c.content.trim().replace(/<[^>]+>/g,"");if(l>=0){var n=l-20;var o=l+20;if(n<0){n=0}if(n==0){o=40}if(o>m.length){o=m.length}var p=m.substring(n,o);q.forEach(function(a){var b=new RegExp(a,"gi");p=p.replace(b,"<em class=\"search-keyword\">"+a+"</em>")});r+="<p class=\"search-result\">"+p+"...</p><hr>"}r+="</div>"}});u.innerHTML=r})}})}